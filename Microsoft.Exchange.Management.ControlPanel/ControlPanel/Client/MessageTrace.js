Type.registerNamespace("ECP");function RefreshWebServiceListSource(n){var t=n.targetControl.control;t.get_InlineSelector().get_BrowseButton().style.visibility=t.get_value()===_String.empty?_String.empty:"hidden";n.associatedControl.control.refresh()}function MessageTraceExSlab(n){this.$$d_$h_4=Function.createDelegate(this,this.$h_4);this.$$d_$p_4=Function.createDelegate(this,this.$p_4);this.$$d_$o_4=Function.createDelegate(this,this.$o_4);this.$$d_$c_4=Function.createDelegate(this,this.$c_4);this.$$d_$q_4=Function.createDelegate(this,this.$q_4);this.$$d_$r_4=Function.createDelegate(this,this.$r_4);this.$$d_$g_4=Function.createDelegate(this,this.$g_4);this.$$d_$X_4=Function.createDelegate(this,this.$X_4);this.$$d_$i_4=Function.createDelegate(this,this.$i_4);MessageTraceExSlab.initializeBase(this,[n])}MessageTraceExSlab.prototype={$4_4:null,$C_4:null,$1_4:null,$0_4:null,$6_4:null,$U_4:null,$7_4:null,$O_4:null,$M_4:null,$H_4:null,$I_4:null,$K_4:null,$9_4:null,$A_4:null,$2_4:null,$3_4:null,$G_4:null,$F_4:null,$B_4:null,$Z_4:null,$L_4:null,$W_4:null,$P_4:null,$d_4:null,$J_4:null,get_SearchButton:function(){return this.$4_4},set_SearchButton:function(n){this.$4_4=n;return n},get_ClearButton:function(){return this.$C_4},set_ClearButton:function(n){this.$C_4=n;return n},get_ServiceUrl:function(){return this.$Z_4},set_ServiceUrl:function(n){this.$Z_4=n;return n},get_FromEditor:function(){return this.$9_4},set_FromEditor:function(n){this.$9_4=n;return n},get_ToEditor:function(){return this.$A_4},set_ToEditor:function(n){this.$A_4=n;return n},get_MessageIDTextBox:function(){return this.$7_4},set_MessageIDTextBox:function(n){this.$7_4=n;return n},get_ClientIPTextBox:function(){return this.$O_4},set_ClientIPTextBox:function(n){this.$O_4=n;return n},get_ReportTitleTextBox:function(){return this.$L_4},set_ReportTitleTextBox:function(n){this.$L_4=n;return n},get_NotifyAddressTextBox:function(){return this.$W_4},set_NotifyAddressTextBox:function(n){this.$W_4=n;return n},get_DdMessageTimeFrame:function(){return this.$1_4},set_DdMessageTimeFrame:function(n){this.$1_4=n;return n},get_DdDeliveryStatus:function(){return this.$0_4},set_DdDeliveryStatus:function(n){this.$0_4=n;return n},get_DdDeliveryStatusEx:function(){return this.$6_4},set_DdDeliveryStatusEx:function(n){this.$6_4=n;return n},get_DirectionDropdown:function(){return this.$U_4},set_DirectionDropdown:function(n){this.$U_4=n;return n},get_StartDate:function(){return this.$2_4},set_StartDate:function(n){this.$2_4=n;return n},get_EndDate:function(){return this.$3_4},set_EndDate:function(n){this.$3_4=n;return n},get_DockPanel:function(){return this.$J_4},set_DockPanel:function(n){this.$J_4=n;return n},get_TimeZoneDropdown:function(){return this.$G_4},set_TimeZoneDropdown:function(n){this.$G_4=n;return n},get_ReportOptionsPanel:function(){return this.$F_4},set_ReportOptionsPanel:function(n){this.$F_4=n;return n},get_DateRangePanel:function(){return this.$d_4},set_DateRangePanel:function(n){this.$d_4=n;return n},get_IncludeReportDetails:function(){return this.$P_4},set_IncludeReportDetails:function(n){this.$P_4=n;return n},initialize:function(){EcpControl.prototype.initialize.call(this);this.$M_4=this.$$d_$i_4;this.$H_4=this.$$d_$X_4;this.$I_4=this.$$d_$g_4;$addHandler(this.$4_4,"click",this.$M_4);$addHandler(this.$C_4,"click",this.$H_4);$addHandler(this.$1_4,"change",this.$I_4);this.$B_4=new WebServiceCommand;this.$B_4.set_serviceUrl(this.$Z_4);this.$B_4.set_methodName("SubmitJob");this.$B_4.set_parameterNames(3);this.$B_4.get_webServiceMethod().add_Succeeded(this.$$d_$r_4);this.$B_4.get_webServiceMethod().add_Completed(this.$$d_$q_4);this.$2_4.set_enabled(!1);this.$3_4.set_enabled(!1);this.$G_4.disabled=!0;this.$F_4.style.display="none";this.$6_4.style.display="none";this.$2_4.add_selectedValueChanged(this.$$d_$c_4);this.$3_4.add_selectedValueChanged(this.$$d_$c_4)},dispose:function(){this.$B_4.get_webServiceMethod().remove_Succeeded(this.$$d_$r_4);this.$2_4.remove_selectedValueChanged(this.$$d_$c_4);this.$3_4.remove_selectedValueChanged(this.$$d_$c_4);$removeHandler(this.$4_4,"click",this.$M_4);$removeHandler(this.$C_4,"click",this.$H_4);$removeHandler(this.$1_4,"change",this.$I_4);if(this.$K_4){FrameShowHide.remove_shown(this.$K_4);this.$K_4=null}EcpControl.prototype.dispose.call(this)},$c_4:function(n,t){if(this.$V_4()){this.$F_4.style.display="inline";this.$6_4.style.display!=="inline"&&(this.$6_4.selectedIndex=0);this.$6_4.style.display="inline";this.$0_4.style.display="none";this.$L_4.value===_String.empty&&(this.$L_4.value=String.format(Strings.get_MessageTraceReportTitle(),(new Date).toLocaleString()))}else{this.$F_4.style.display="none";this.$6_4.style.display="none";this.$0_4.style.display!=="inline"&&(this.$0_4.selectedIndex=0);this.$0_4.style.display="inline"}var i=this;window.setTimeout(function(){i.$J_4.get_ChildDockPanel().onResize();i.$J_4.get_ChildDockPanel().get_FillPanel().onResize()},500)},$V_4:function(){return(this.$Q_4(!0).getTime()-this.$R_4().getTime())/864e5>7},$R_4:function(){return this.$2_4.get_selectedValue()},$Q_4:function(n){var t=new Date;n||(t=this.$3_4.get_selectedValue());return t},$q_4:function(n,t){UpdateProgressPopUp.progressCompleted(null,!0)},$r_4:function(n,t){var i=t.get_results();_PowerShellResults.hasMessage(i)?ErrorHandling.showPowerShellErrorsWithCallback(i,this.$$d_$o_4):MessageBox.showMessageWithCallback(Strings.get_JobSubmitted(),MessageBoxType.information,this.$$d_$p_4);this.$4_4.disabled=!1},$p_4:function(n,t){this.$X_4(null)},$o_4:function(n,t){this.$4_4.disabled=!1},$k_4:function(){return!_String.isNullOrEmpty(this.$7_4.value)||!_Object.isNullOrUndefined(this.$9_4.get_selectedRecipients())||!_Object.isNullOrUndefined(this.$A_4.get_selectedRecipients())},$i_4:function(n){if(FieldValidationAssistant.get_instance().highlightFieldsInError())MessageBox.showMessageWithCallback(Strings.get_DeliveryReportSearchFieldsInError(),MessageBoxType.error,this.$$d_$h_4);else{var t=this.$R_4();var i=this.$Q_4(!1);var r=(i.getTime()-t.getTime())/864e5;r>90?this.$a_4(Strings.DateExceedsRange(90),this.$2_4.get_element()):t>i?this.$a_4(Strings.get_MessageTraceInvalidStartDate(),this.$2_4.get_element()):this.$1_4.value==="custom"&&this.$V_4()&&!this.$k_4()?this.$a_4(Strings.get_MinimumCriteriaFieldsInErrorDeliveryStatus(),this.$7_4):this.$l_4()}},$l_4:function(){var n={};n.MessageId=this.$7_4.value;n.RecipientAddress=this.$A_4.get_value();n.SenderAddress=this.$9_4.get_value();n.DateRangeType=this.$1_4.value;n.TimeZone=this.$G_4.value;if(this.$1_4.value==="custom"&&this.$V_4()){n.StatusFilter=this.$6_4.value;n.StartDate=this.$R_4().format(this.$2_4.get_GeneralizedDateTimeFormat());n.EndDate=this.$Q_4(!1).format(this.$3_4.get_GeneralizedDateTimeFormat());n.Direction=this.$U_4.value;n.ClientIP=this.$O_4.value;n.ReportTitle=this.$L_4.value;n.NotifyAddress=this.$W_4.value.trim();n.IncludeMessageEvents=this.$P_4.checked;UpdateProgressPopUp.showProgressImmediately(Strings.get_JobSubmissionWaitText());this.$4_4.disabled=!0;var t=this;this.$B_4.set_ParameterGetter(function(){return[n]});this.$B_4.execute()}else{n.StartDate=this.$2_4.get_value();n.EndDate=this.$3_4.get_value();n.StatusFilter=this.$0_4.value;PopupWindowManager.showModelessDialog("MessageTraceResults.aspx",null,BuildCenteredWindowFeatureString(600,1200,GlobalVariables.FeaturesForPopups),n)}},$a_4:function(n,t){var i=new Info;i.Message=n;i.MessageType=MessageBoxType.error;MessageBox.show(i,4,this.$$d_$h_4,t)},$h_4:function(n,t){var i=FieldValidationAssistant.get_instance().get_firstTextboxInError();if(i){var r=this;window.setTimeout(function(){ActiveElementMoniter.setActive(i)},100)}if(t){i=t;var u=this;window.setTimeout(function(){ActiveElementMoniter.setActive(i)},100)}},$X_4:function(n){this.$A_4.reset();this.$9_4.reset();this.$7_4.value=_String.empty;this.$1_4.selectedIndex=1;this.$0_4.selectedIndex=0;this.$G_4.disabled=!0;this.$2_4.set_enabled(!1);this.$3_4.set_enabled(!1);this.$L_4.value=_String.empty;this.$O_4.value=_String.empty;this.$P_4.checked=!1;this.$F_4.style.display="none";this.$6_4.style.display="none";this.$0_4.style.display="inline";this.$2_4.set_selectedValue(new Date);this.$3_4.set_selectedValue(new Date)},$g_4:function(n){if(this.$1_4.value.toLowerCase()==="custom"){this.$2_4.set_enabled(!0);this.$3_4.set_enabled(!0);this.$G_4.disabled=!1;this.$c_4(null,Sys.EventArgs.Empty)}else{this.$2_4.set_enabled(!1);this.$3_4.set_enabled(!1);this.$G_4.disabled=!0;this.$F_4.style.display="none";this.$6_4.style.display="none";this.$0_4.style.display="inline"}var t=this;window.setTimeout(function(){t.$J_4.get_ChildDockPanel().onResize();t.$J_4.get_ChildDockPanel().get_FillPanel().onResize()},500)}};function MessageTraceResults(n){MessageTraceResults.initializeBase(this,[n])}MessageTraceResults.prototype={$S_4:null,$E_4:null,get_DataSource:function(){return this.$S_4},set_DataSource:function(n){this.$S_4=n;return n},get_RefreshMethod:function(){return this.$E_4},set_RefreshMethod:function(n){this.$E_4=n;return n},initialize:function(){BaseForm.prototype.initialize.call(this);var u=PopupWindowManager.getPopupWindowArgumentsValue();var n={};var t=u;for(var i in t){var r={key:i,value:t[i]};n[r.key]=new StaticBinding(r.value)}this.$E_4.get_Parameters()[0]=new DataContractBinding(null,n);this.$S_4.search()}};function MessageTraceSlab(n){this.$$d_onEditDialogOK=Function.createDelegate(this,this.onEditDialogOK);this.$$d_$h_4=Function.createDelegate(this,this.$h_4);this.$$d_$n_4=Function.createDelegate(this,this.$n_4);this.$$d_$g_4=Function.createDelegate(this,this.$g_4);this.$$d_$X_4=Function.createDelegate(this,this.$X_4);this.$$d_$i_4=Function.createDelegate(this,this.$i_4);this.$$d_$m_4=Function.createDelegate(this,this.$m_4);this.$8_4={};MessageTraceSlab.initializeBase(this,[n])}MessageTraceSlab.prototype={$4_4:null,$C_4:null,$1_4:null,$0_4:null,$5_4:null,$7_4:null,$f_4:null,$N_4:null,$E_4:null,$M_4:null,$H_4:null,$I_4:null,$T_4:null,$b_4:null,$K_4:null,$e_4:!1,$Y_4:null,$9_4:null,$A_4:null,get_ListView:function(){return this.$f_4},set_ListView:function(n){this.$f_4=n;return n},get_ListViewDataSource:function(){return this.$N_4},set_ListViewDataSource:function(n){this.$N_4=n;return n},get_ListViewRefreshMethod:function(){return this.$E_4},set_ListViewRefreshMethod:function(n){this.$E_4=n;return n},get_SearchButton:function(){return this.$4_4},set_SearchButton:function(n){this.$4_4=n;return n},get_ClearButton:function(){return this.$C_4},set_ClearButton:function(n){this.$C_4=n;return n},get_FromEditor:function(){return this.$9_4},set_FromEditor:function(n){this.$9_4=n;return n},get_ToEditor:function(){return this.$A_4},set_ToEditor:function(n){this.$A_4=n;return n},get_MessageIDTextBox:function(){return this.$7_4},set_MessageIDTextBox:function(n){this.$7_4=n;return n},get_DdMessageTimeFrame:function(){return this.$1_4},set_DdMessageTimeFrame:function(n){this.$1_4=n;return n},get_DdDeliveryStatus:function(){return this.$0_4},set_DdDeliveryStatus:function(n){this.$0_4=n;return n},get_CustomLink:function(){return this.$5_4},set_CustomLink:function(n){this.$5_4=n;return n},get_PickerFormUrl:function(){return this.$Y_4},set_PickerFormUrl:function(n){this.$Y_4=n;return n},get_StartDate:function(){return this.$8_4.StartDate},set_StartDate:function(n){this.$8_4.StartDate=n;return n},get_EndDate:function(){return this.$8_4.EndDate},set_EndDate:function(n){this.$8_4.EndDate=n;return n},get_TimeZone:function(){return this.$8_4.TimeZone},set_TimeZone:function(n){this.$8_4.TimeZone=n;return n},initialize:function(){EcpControl.prototype.initialize.call(this);this.$E_4.add_Invoking(this.$$d_$m_4);this.$M_4=this.$$d_$i_4;this.$H_4=this.$$d_$X_4;this.$I_4=this.$$d_$g_4;this.$T_4=this.$$d_$n_4;this.$b_4=this.$$d_$g_4;$addHandler(this.$4_4,"click",this.$M_4);$addHandler(this.$C_4,"click",this.$H_4);$addHandler(this.$1_4,"change",this.$I_4);$addHandler(this.$0_4,"change",this.$T_4);$addHandler(this.$5_4,"click",this.$b_4);this.$5_4.innerHTML=this.$5_4.innerText=String.format(Strings.get_CustomDateLink(),this.get_StartDate(),this.get_EndDate());this.$5_4.style.visibility="hidden"},dispose:function(){this.$E_4.remove_Invoking(this.$$d_$m_4);$removeHandler(this.$4_4,"click",this.$M_4);$removeHandler(this.$C_4,"click",this.$H_4);$removeHandler(this.$1_4,"click",this.$I_4);$removeHandler(this.$0_4,"click",this.$T_4);if(this.$K_4){FrameShowHide.remove_shown(this.$K_4);this.$K_4=null}EcpControl.prototype.dispose.call(this)},onEditDialogOK:function(n){this.set_StartDate(DataBinder.getPropertyValue(n[0],"StartDate").toString());this.set_EndDate(DataBinder.getPropertyValue(n[0],"EndDate").toString());this.set_TimeZone(DataBinder.getPropertyValue(n[0],"TimeZone"));this.$j_4()},$j_4:function(){this.$5_4.innerText=String.format(Strings.get_CustomDateLink(),this.get_StartDate(),this.get_EndDate());this.$5_4.style.visibility="visible"},$i_4:function(n){if(FieldValidationAssistant.get_instance().highlightFieldsInError())MessageBox.showMessageWithCallback(Strings.get_DeliveryReportSearchFieldsInError(),MessageBoxType.error,this.$$d_$h_4);else{var t={};t.MessageId=new StaticBinding(this.$7_4.value);t.RecipientAddress=new StaticBinding(this.$A_4.get_value());t.SenderAddress=new StaticBinding(this.$9_4.get_value());t.StatusFilter=new StaticBinding(this.$0_4.value);t.DateRangeType=new StaticBinding(this.$1_4.value);var i=this.$8_4;for(var r in i){var u={key:r,value:i[r]};t[u.key]=new StaticBinding(u.value.toString())}this.$N_4.get_RefreshWebServiceMethod().get_Parameters()[0]=new DataContractBinding(null,t);this.$N_4.search()}},$h_4:function(n,t){var i=FieldValidationAssistant.get_instance().get_firstTextboxInError();if(i){var r=this;window.setTimeout(function(){ActiveElementMoniter.setActive(i)},100)}if(t){i=t;var u=this;window.setTimeout(function(){ActiveElementMoniter.setActive(i)},100)}},$X_4:function(n){this.$A_4.reset();this.$9_4.reset();this.$7_4.value=_String.empty;this.$N_4.clear();this.$5_4.style.visibility="hidden";this.$1_4.selectedIndex=1;this.$0_4.selectedIndex=0},$g_4:function(n){if(this.$1_4.value.toLowerCase()==="custom"){this.$j_4();ModalPopupLauncherHelper.openModalPopup(this.$Y_4,450,800,this.$8_4,this.get_DataContext(),this.$$d_onEditDialogOK)}else this.$5_4.style.visibility="hidden"},$n_4:function(n){},$m_4:function(n,t){if(this.$e_4)FieldValidationAssistant.get_instance().highlightFieldsInError()&&t.set_cancel(!0);else{t.set_cancel(!0);this.$e_4=!0}}};function MessageTraceDetailsViewModel(){MessageTraceDetailsViewModel.initializeBase(this)}MessageTraceDetailsViewModel.prototype={initialize:function(){PropertyPageViewModel.prototype.initialize.call(this);document.title=String.format(Strings.get_MTRTDetailsTitle(),this.getValue("Subject"))}};MessageTraceExSlab.registerClass("MessageTraceExSlab",ContainerControl);MessageTraceResults.registerClass("MessageTraceResults",BaseForm);MessageTraceSlab.registerClass("MessageTraceSlab",ContainerControl);MessageTraceDetailsViewModel.registerClass("MessageTraceDetailsViewModel",PropertyPageViewModel)