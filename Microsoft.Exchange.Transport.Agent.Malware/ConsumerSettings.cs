using System;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Configuration;

namespace Microsoft.Exchange.Transport.Agent.Malware
{
	internal class ConsumerSettings
	{
		public ConsumerSettings()
		{
			this.ReadDisabledEngines();
		}

		public ReadOnlyCollection<string> DisabledEngines
		{
			get
			{
				return this.disabledEngines.AsReadOnly();
			}
		}

		private void ReadDisabledEngines()
		{
			this.disabledEngines = new List<string>();
			string text = ConfigurationManager.AppSettings["DisabledAntimalwareEnginesForConsumers"];
			if (!string.IsNullOrEmpty(text))
			{
				string[] array = text.Split(new char[]
				{
					','
				}, StringSplitOptions.RemoveEmptyEntries);
				foreach (string text2 in array)
				{
					this.disabledEngines.Add(text2.Trim());
				}
			}
		}

		private List<string> disabledEngines;
	}
}
